import React, { useEffect } from "react";
import mapboxgl from "mapbox-gl";

function SecondMap() {
  useEffect(() => {
    // Set your Mapbox access token
    mapboxgl.accessToken =
      "pk.eyJ1Ijoia2FydGhpa2thcDEyIiwiYSI6ImNtNXo1YzZpZzAwb20yanNkbXBrYm5zN3YifQ.X_Qx8Du790iVSQlMY6LDgg";

    // Define the polygon coordinates
    const polygonCoordinates = {
      type: "FeatureCollection",
      features: [
        {
          type: "Feature",
          properties: {},
          geometry: {
            type: "Polygon",
            coordinates: [
              [
                [55.437120170735085, 22.64952069718612],
                [55.50993350907521, 22.765129688252415],
                [55.51456507370173, 22.8684821979826],
                [55.52172314499063, 23.00973716181946],
                [55.51531373087505, 23.1583930115532],
                [55.519197612102715, 23.240395620113887],
                [55.53049975603483, 23.29629953258872],
                [55.5449101498142, 23.348281071583187],
                [55.548654142336744, 23.378860576052404],
                [55.56648461648962, 23.420390317905543],
                [55.59235436251481, 23.47328670973836],
                [55.617058099491516, 23.530407282874847],
                [55.64587227479464, 23.592332004859102],
                [55.663813401780914, 23.643130111536138],
                [55.680856472226054, 23.710548630138064],
                [55.68613307595032, 23.752890544335656],
                [55.694305591263685, 23.802655119176393],
                [55.70025533991148, 23.846163315308658],
                [55.71204430741602, 23.89356454469251],
                [55.72405227362884, 23.925292787594856],
                [55.75323247938056, 23.96418365417675],
                [55.78365505744375, 24.007616971093185],
                [55.79818377535102, 24.054622658002202],
                [55.8103453855596, 24.120798403916567],
                [55.8203982677864, 24.192633401572223],
                [55.83965173249399, 24.24228697476876],
                [55.86476592978016, 24.28208445991949],
                [55.88013530300921, 24.316157182458483],
                [55.887747732253445, 24.324948750989762],
                [55.88888253595215, 24.398111431268063],
                [55.88661905774575, 24.467854809751117],
                [55.88124051060413, 24.499883646488342],
                [55.8596634578258, 24.530759642722714],
                [55.82743125418159, 24.551568801837874],
                [55.80500101084081, 24.577416016777192],
                [55.79738394345762, 24.599032906833457],
                [55.796481449735694, 24.61584998222854],
                [55.80760753564758, 24.63696237985198],
                [55.83558277133784, 24.638160542054877],
                [55.860734370873956, 24.644889933533193],
                [55.91958061888971, 24.678105321676043],
                [55.979226300130534, 24.719122972589346],
                [56.015339177947425, 24.723879318278833],
                [56.064142529930706, 24.723003344397995],
                [56.08231083064064, 24.713607663889974],
                [56.10140975105159, 24.71519801393623],
                [56.11581353257543, 24.725144592299202],
                [56.134633464487024, 24.73062183170846],
                [56.150574495348025, 24.72196744251991],
                [56.16371340377677, 24.70515444132927],
                [56.17325723878764, 24.700391372948573],
                [56.19143678988851, 24.70211117660233],
                [56.259301660031014, 24.735753476672187],
                [56.312291800334066, 24.76235176626274],
                [56.34714079211588, 24.776259214752173],
                [56.372680922882466, 24.78249919680897],
                [56.38482467044457, 24.79574913575685],
                [56.38596875041412, 24.807979584695744],
                [56.36175438283456, 24.853672281032175],
                [56.33511545707282, 24.92926926592949],
                [56.329146168821524, 24.971503659553093],
                [56.31768217844021, 25.00084402679086],
                [56.29375143749368, 25.01230589276939],
                [56.257309931476414, 24.99736859614032],
                [56.22553642542721, 24.982201197522897],
                [56.190283013886784, 24.988000623459556],
                [56.13520325917543, 25.00724599749057],
                [56.12199387278196, 25.02360189578583],
                [56.12516863791657, 25.05045066745909],
                [56.138566008181044, 25.07927099898717],
                [56.162246873667385, 25.13519703307115],
                [56.17873098005725, 25.17378919628588],
                [56.18756541868282, 25.23368413702768],
                [56.18537190000677, 25.267623357953212],
                [56.15488014263906, 25.295725447782687],
                [56.144137949824, 25.304463062619817],
                [56.14245375550394, 25.352349131655117],
                [56.14562962228871, 25.414842981684387],
                [56.138658560913456, 25.445573897847638],
                [56.13187607709901, 25.485631378285646],
                [56.13136773980477, 25.507370144421557],
                [56.143342041600334, 25.527786198131423],
                [56.15931119844055, 25.54679152780811],
                [56.15818570705716, 25.56700567409979],
                [56.16268426126052, 25.57402027739434],
                [56.16404742669573, 25.592934699110046],
                [56.17729123972185, 25.609763380018236],
                [56.193369939294854, 25.632135475387642],
                [56.19229060120068, 25.655165406390054],
                [56.18509482916426, 25.673564094436657],
                [56.17987447739648, 25.687018494376986],
                [56.17464850043322, 25.69495829297867],
                [56.144226909430074, 25.68774917731858],
                [56.125412602713965, 25.687828506370963],
                [56.1082675888498, 25.694885816537322],
                [56.08185772847409, 25.70281077415703],
                [56.0538937431765, 25.712648320239182],
                [56.0410609621627, 25.71740652507289],
                [56.02088349001136, 25.698591144127775],
                [55.96182940691904, 25.66992416640589],
                [55.89870369016563, 25.636726246378444],
                [55.83004465471038, 25.587735306681125],
                [55.786767781909816, 25.563208045288448],
                [55.75061651478288, 25.55551714430746],
                [55.67058174521918, 25.552680095454406],
                [55.55397904846808, 25.550703886085657],
                [55.511009290144244, 25.5499099503501],
                [55.49181207739133, 25.555988051654296],
                [55.47552090460988, 25.5680292907401],
                [55.45956961041625, 25.601248080965462],
                [55.430185810864316, 25.709724491085538],
                [55.40279865226668, 25.79960247828457],
                [55.38808600104727, 25.87394977957544],
                [55.36018026685298, 25.960482148988902],
                [55.3384890935275, 26.04283618505734],
                [55.331267288245584, 26.05571476143116],
                [55.2376865251552, 26.056854089618824],
                [55.22398767244661, 26.024830268226168],
                [55.15479378014331, 25.96657297637148],
                [55.09663481811532, 25.924865116595967],
                [55.055196390843435, 25.899281970913293],
                [55.06926696257483, 25.878637558402687],
                [55.06191240962738, 25.85417743559681],
                [55.038862381954345, 25.833598421602247],
                [55.01102038197516, 25.843708160582977],
                [54.99571298911317, 25.85716841928236],
                [54.990693129053085, 25.84993829861483],
                [54.98049941653008, 25.823601727972516],
                [54.931143390269256, 25.78192550771014],
                [54.926723136984776, 25.759870522722068],
                [54.93532071276857, 25.75130286361454],
                [54.93903679876445, 25.738798326665062],
                [54.93837546536764, 25.720721340665477],
                [54.942201677629555, 25.71275408352544],
                [54.94268790679254, 25.694237702363864],
                [54.950866219733086, 25.676022520273705],
                [54.95900551424623, 25.664696157569608],
                [54.9540560219439, 25.651889377313267],
                [54.941674122365015, 25.645628222058036],
                [54.93228375660698, 25.634863608201414],
                [54.9297181267269, 25.618138836474614],
                [54.924196679157745, 25.60733593027375],
                [54.91518634924759, 25.597570276125197],
                [54.904342840862626, 25.591367120829602],
                [54.89396127912016, 25.587855370148404],
                [54.90012515914037, 25.57569386844071],
                [54.911163761430316, 25.570569134107075],
                [54.922443652289246, 25.554383166761994],
                [54.900372246949445, 25.506148307317986],
                [54.88245314606203, 25.46313380996351],
                [54.86996059703378, 25.438390211212834],
                [54.86012241519052, 25.427346599036213],
                [54.8503626554039, 25.425675075594327],
                [54.833511470286794, 25.427202807495817],
                [54.82357788791572, 25.435214894701275],
                [54.82070350348232, 25.43092513342914],
                [54.831187769800806, 25.422559778249123],
                [54.83822569641805, 25.41191547420351],
                [54.82079890401013, 25.41186773051443],
                [54.8074578725535, 25.410696700339827],
                [54.78912544697991, 25.423196072480323],
                [54.76964244764872, 25.45572302575748],
                [54.75652572629093, 25.471903095805544],
                [54.755190373875394, 25.490848401871617],
                [54.75231297824314, 25.506144910455546],
                [54.74933588923369, 25.513731547417365],
                [54.739597400766456, 25.510403482851643],
                [54.739263082044516, 25.497762866283608],
                [54.73443455443865, 25.490989977760208],
                [54.73159906062216, 25.47980029083932],
                [54.735236842203165, 25.46715315776089],
                [54.73150968249206, 25.45967279777254],
                [54.722244096740695, 25.469796515144978],
                [54.71431450423012, 25.48414649405767],
                [54.71296454371816, 25.488748746278105],
                [54.70031944342591, 25.47203266295361],
                [54.686281839980865, 25.46323446387747],
                [54.68464740743508, 25.459048324166957],
                [54.70567674283353, 25.45693706376332],
                [54.719504003452016, 25.439551831503252],
                [54.762628102298066, 25.400535903316793],
                [54.773044902632165, 25.39355820513957],
                [54.78540187886642, 25.39790364324736],
                [54.79365848605198, 25.389019284047023],
                [54.82699860301963, 25.390982863676868],
                [54.83686471940749, 25.38435770879761],
                [54.8463685825277, 25.382752562718665],
                [54.84929217282502, 25.367710040029138],
                [54.849589971306074, 25.34447176045741],
                [54.84659462217502, 25.33411943835057],
                [54.83598939116004, 25.336431702522958],
                [54.82728179340427, 25.35339181951072],
                [54.80958878908288, 25.362494110729543],
                [54.79377515790031, 25.368295562710173],
                [54.784342412787424, 25.37209988431995],
                [54.79416899773321, 25.3491865225255],
                [54.80788259770341, 25.332906481096998],
                [54.81397901173929, 25.322109778984398],
                [54.81305510258076, 25.312960243468694],
                [54.79524113356291, 25.3160053344139],
                [54.782507936791006, 25.325521387030918],
                [54.76970362200939, 25.332837034241592],
                [54.7574925338173, 25.336478767540783],
                [54.75280259020431, 25.330506054417654],
                [54.76803696207088, 25.319535507724666],
                [54.76559594891248, 25.312418529648227],
                [54.75601366373451, 25.304642844995655],
                [54.74918845031746, 25.29869109465038],
                [54.75114710898484, 25.26788361949427],
                [54.753968693528975, 25.251018331859242],
                [54.75148767538042, 25.241285736588708],
                [54.7398592922074, 25.207077073188998],
                [54.727499108962206, 25.18249095629507],
                [54.712616523199245, 25.14406175052565],
                [54.69659348299376, 25.11234671281042],
                [54.67386239258238, 25.090677095248125],
                [54.65080183217688, 25.0670753885542],
                [54.641573595943555, 25.049655804635066],
                [54.6251629734534, 25.05860542041188],
                [54.594443199515865, 25.074484691780142],
                [54.577488673507816, 25.070706692980593],
                [54.567284043978475, 25.05711809672296],
                [54.55524989516442, 25.051910875267396],
                [54.52839326412234, 25.026765207993463],
                [54.510035211825, 25.008403609730053],
                [54.4920123691374, 24.998368469358553],
                [54.466025877234244, 24.989449791597394],
                [54.44112355576809, 24.982102908422206],
                [54.41940001540979, 24.967903143473166],
                [54.41265872411026, 24.945930777770315],
                [54.40594609834352, 24.93208471138469],
                [54.36745398713785, 24.89607297670473],
                [54.335163069410385, 24.882747293663712],
                [54.31169868475848, 24.883822882520363],
                [54.297370042957, 24.871532592362513],
                [54.26219047713795, 24.85970319916639],
                [54.23650403252702, 24.84456602473189],
                [54.2019899499671, 24.840117065959248],
                [54.18780999261426, 24.833475335775816],
                [54.171266357637705, 24.832099075041157],
                [54.15765190255135, 24.819209890804572],
                [54.12336005503812, 24.796640788001127],
                [54.09969290326333, 24.778991042382287],
                [54.08370883456652, 24.768383047960327],
                [54.012433889090374, 24.768034586478763],
                [53.947489363844426, 24.768770939995534],
                [53.92984281986932, 24.767302161757158],
                [53.90581942973566, 24.781044008823542],
                [53.88103044860762, 24.764783816670885],
                [53.85736654522623, 24.750338128410363],
                [53.85068258499231, 24.74461270237292],
                [53.82415008117778, 24.761178011874378],
                [53.79665050116205, 24.749739949600013],
                [53.77983816281903, 24.74519143795014],
                [53.759531142319446, 24.75841336073907],
                [53.750790618537366, 24.778892998385047],
                [53.72770902938271, 24.79496881990862],
                [53.701426308579045, 24.816179997228303],
                [53.68211839446079, 24.806556091037805],
                [53.65612597577237, 24.811935184663895],
                [53.6304882570478, 24.844893010289027],
                [53.61713982693402, 24.852687503626356],
                [53.59381113316141, 24.846591513984194],
                [53.52381066433409, 24.829246458118874],
                [53.478401621844796, 24.819590309610447],
                [53.44762129082321, 24.815197967286167],
                [53.409152488363475, 24.822329471224748],
                [53.3747516525348, 24.882697292415884],
                [53.340350671280646, 24.913661724372375],
                [53.32355132650801, 24.921936299758755],
                [53.295978601546295, 24.919644164919106],
                [53.30439690928907, 24.903670858717135],
                [53.30690220457814, 24.876936359287953],
                [53.31675538253597, 24.866181674165574],
                [53.3117809226699, 24.854548941496986],
                [53.296359117046734, 24.85178213547924],
                [53.270749493855476, 24.872149250106688],
                [53.25168107323378, 24.878279343301912],
                [53.22442081913525, 24.861885733085472],
                [53.21203229817726, 24.853818647550824],
                [53.17158911037487, 24.88761133957634],
                [53.149443395412845, 24.920305313541363],
                [53.118618134522876, 24.89258333065534],
                [53.09046021587449, 24.877303631203844],
                [53.02535399264721, 24.878061980502082],
                [52.9610036152373, 24.899179520712863],
                [52.93812040481424, 24.889324787361275],
                [52.92387757854175, 24.880738635731575],
                [52.9018180956609, 24.87477375660579],
                [52.87192804431112, 24.878971077249872],
                [52.83197870060525, 24.90019737173121],
                [52.811537932445844, 24.899982662548297],
                [52.79449942842891, 24.884830407540136],
                [52.77813396348526, 24.887321229963405],
                [52.76292771549592, 24.91528918111173],
                [52.74290882587201, 24.948541276473108],
                [52.7181864962389, 24.97802321726185],
                [52.70432878339838, 24.98150885640301],
                [52.68768090992296, 24.97363351121146],
                [52.68387442359182, 24.936398532359945],
                [52.68245657617982, 24.904165820864733],
                [52.66725407116985, 24.888563479982622],
                [52.64132219491324, 24.874851532670675],
                [52.623416133380346, 24.86229997404537],
                [52.59849207126723, 24.83455640492606],
                [52.57712302845346, 24.816361479192523],
                [52.5566746401517, 24.808623718622115],
                [52.54750899399602, 24.793511688806063],
                [52.54108613899018, 24.774538737586695],
                [52.52434273670042, 24.758588806813336],
                [52.499147292083364, 24.746689204666197],
                [52.47901765577211, 24.73832317736931],
                [52.45716320264626, 24.729812981098974],
                [52.440179545481186, 24.704978043657263],
                [52.42705273848148, 24.689058700028312],
                [52.4166814228667, 24.681826961204678],
                [52.36871038410669, 24.682200772347898],
                [52.3548894171972, 24.679697052258916],
                [52.3439866996963, 24.668097225800253],
                [52.30882999897133, 24.643874957815328],
                [52.30423379928419, 24.640384662719825],
                [52.24601024724089, 24.640462350185672],
                [52.237895150326864, 24.637740271591426],
                [52.22422976700466, 24.626138854796736],
                [52.202148315109014, 24.63001869789595],
                [52.17249542271617, 24.6318725171503],
                [52.14366571212594, 24.626075590915633],
                [52.12035109595607, 24.62645799476823],
                [52.08945069041482, 24.642204397578013],
                [52.07257626387562, 24.662929476615204],
                [51.982028299487496, 24.661148138834392],
                [51.98912453065881, 24.635423139399734],
                [51.98598348882828, 24.624465974026165],
                [51.967828528526695, 24.62644091599259],
                [51.93728451612043, 24.662999592417663],
                [51.895524037725096, 24.66875178339012],
                [51.86609350971216, 24.66941488888665],
                [51.85110410030393, 24.67499977682533],
                [51.84115345008908, 24.688952419968913],
                [51.82734934373079, 24.728770952934013],
                [51.81866906709115, 24.7514180982011],
                [51.82021355083123, 24.8252979147956],
                [51.81042108195814, 24.888236955490385],
                [51.80140346198908, 24.923145560507308],
                [51.80188382554849, 24.952951658906414],
                [51.80647815603632, 24.977161252309273],
                [51.810754517290775, 25.01262038997335],
                [51.81219664888957, 25.05207973099904],
                [51.805785196727214, 25.07927345831729],
                [51.79807948342017, 25.093498846860243],
                [51.78900225754268, 25.103742413885783],
                [51.774963647419725, 25.086306915774273],
                [51.765939071528265, 25.063157406943986],
                [51.75482766538454, 25.030485394895464],
                [51.7543387748795, 25.01379338101745],
                [51.7468841399141, 25.002520688229453],
                [51.72891662027598, 25.002535659833384],
                [51.72047955273399, 25.01248825697506],
                [51.71262400386351, 25.03258740806612],
                [51.707326335054745, 25.048776445344416],
                [51.70350190471703, 25.066843664069566],
                [51.69925129783363, 25.074326062950888],
                [51.69636070728214, 25.05741023225174],
                [51.69289685790031, 25.038485129035806],
                [51.68870440756214, 25.017989154774426],
                [51.67312841274335, 25.003680276043255],
                [51.66868041915694, 25.003260860060394],
                [51.65803875891069, 25.007050370145734],
                [51.650019608324044, 25.01944921399256],
                [51.64635245016342, 25.061665376581274],
                [51.64506174325109, 25.12269074484429],
                [51.64410741340433, 25.17099943067379],
                [51.631066451619716, 25.19846980841254],
                [51.62283878309253, 25.217705004721566],
                [51.615893743855025, 25.230974132305818],
                [51.60797356563759, 25.238543469838305],
                [51.599369659731025, 25.220574624070053],
                [51.594735479412805, 25.208300658726316],
                [51.60838177314102, 25.180330719530517],
                [51.614445139454375, 25.15112285528626],
                [51.61415652980412, 25.103088954624596],
                [51.61440258470725, 25.089701749869377],
                [51.59179136603848, 25.05737735100459],
                [51.59310051942188, 25.034025563742844],
                [51.598390044731104, 25.009693403675897],
                [51.59708446542126, 24.968321605981956],
                [51.597571708228, 24.92394128522905],
                [51.59623477634278, 24.875501038890036],
                [51.59532330046699, 24.847200253909378],
                [51.60168406775429, 24.821007895075994],
                [51.63208260839761, 24.765279174169663],
                [51.66136030020934, 24.720781079635515],
                [51.69588389295757, 24.663787420405498],
                [51.72218578799789, 24.62071901226976],
                [51.7611656843433, 24.56014696149171],
                [51.79352867553888, 24.502563572638195],
                [51.8319089605028, 24.439702468565088],
                [51.869237876261934, 24.380104796741662],
                [51.934401733929974, 24.27648050360456],
                [52.32671580037976, 23.65414200368525],
                [52.54337540423907, 23.292545879919516],
                [52.66457519305362, 23.111628184410804],
                [52.80503543154478, 23.08538301135114],
                [53.303626175934056, 23.00727777671888],
                [53.82120736430744, 22.921006295222682],
                [54.48378568118318, 22.809124436361202],
                [55.17794036672592, 22.691946069940073],
                [55.349235624498675, 22.66051959920793],
                [55.437120170735085, 22.64952069718612],
              ],
            ],
          },
        },
      ],
    };

    // Create an inverted mask to hide areas outside the polygon
    const invertedMask = {
      type: "FeatureCollection",
      features: [
        {
          type: "Feature",
          geometry: {
            type: "Polygon",
            coordinates: [
              [
                [-180, -90], // Far bottom-left
                [180, -90], // Far bottom-right
                [180, 90], // Far top-right
                [-180, 90], // Far top-left
                [-180, -90], // Close the big rectangle
              ],
              [
                // The inner polygon (your area of interest)
                [55.437120170735085, 22.64952069718612],
                [55.50993350907521, 22.765129688252415],
                [55.51456507370173, 22.8684821979826],
                [55.52172314499063, 23.00973716181946],
                [55.51531373087505, 23.1583930115532],
                [55.519197612102715, 23.240395620113887],
                [55.53049975603483, 23.29629953258872],
                [55.5449101498142, 23.348281071583187],
                [55.548654142336744, 23.378860576052404],
                [55.56648461648962, 23.420390317905543],
                [55.59235436251481, 23.47328670973836],
                [55.617058099491516, 23.530407282874847],
                [55.64587227479464, 23.592332004859102],
                [55.663813401780914, 23.643130111536138],
                [55.680856472226054, 23.710548630138064],
                [55.68613307595032, 23.752890544335656],
                [55.694305591263685, 23.802655119176393],
                [55.70025533991148, 23.846163315308658],
                [55.71204430741602, 23.89356454469251],
                [55.72405227362884, 23.925292787594856],
                [55.75323247938056, 23.96418365417675],
                [55.78365505744375, 24.007616971093185],
                [55.79818377535102, 24.054622658002202],
                [55.8103453855596, 24.120798403916567],
                [55.8203982677864, 24.192633401572223],
                [55.83965173249399, 24.24228697476876],
                [55.86476592978016, 24.28208445991949],
                [55.88013530300921, 24.316157182458483],
                [55.887747732253445, 24.324948750989762],
                [55.88888253595215, 24.398111431268063],
                [55.88661905774575, 24.467854809751117],
                [55.88124051060413, 24.499883646488342],
                [55.8596634578258, 24.530759642722714],
                [55.82743125418159, 24.551568801837874],
                [55.80500101084081, 24.577416016777192],
                [55.79738394345762, 24.599032906833457],
                [55.796481449735694, 24.61584998222854],
                [55.80760753564758, 24.63696237985198],
                [55.83558277133784, 24.638160542054877],
                [55.860734370873956, 24.644889933533193],
                [55.91958061888971, 24.678105321676043],
                [55.979226300130534, 24.719122972589346],
                [56.015339177947425, 24.723879318278833],
                [56.064142529930706, 24.723003344397995],
                [56.08231083064064, 24.713607663889974],
                [56.10140975105159, 24.71519801393623],
                [56.11581353257543, 24.725144592299202],
                [56.134633464487024, 24.73062183170846],
                [56.150574495348025, 24.72196744251991],
                [56.16371340377677, 24.70515444132927],
                [56.17325723878764, 24.700391372948573],
                [56.19143678988851, 24.70211117660233],
                [56.259301660031014, 24.735753476672187],
                [56.312291800334066, 24.76235176626274],
                [56.34714079211588, 24.776259214752173],
                [56.372680922882466, 24.78249919680897],
                [56.38482467044457, 24.79574913575685],
                [56.38596875041412, 24.807979584695744],
                [56.36175438283456, 24.853672281032175],
                [56.33511545707282, 24.92926926592949],
                [56.329146168821524, 24.971503659553093],
                [56.31768217844021, 25.00084402679086],
                [56.29375143749368, 25.01230589276939],
                [56.257309931476414, 24.99736859614032],
                [56.22553642542721, 24.982201197522897],
                [56.190283013886784, 24.988000623459556],
                [56.13520325917543, 25.00724599749057],
                [56.12199387278196, 25.02360189578583],
                [56.12516863791657, 25.05045066745909],
                [56.138566008181044, 25.07927099898717],
                [56.162246873667385, 25.13519703307115],
                [56.17873098005725, 25.17378919628588],
                [56.18756541868282, 25.23368413702768],
                [56.18537190000677, 25.267623357953212],
                [56.15488014263906, 25.295725447782687],
                [56.144137949824, 25.304463062619817],
                [56.14245375550394, 25.352349131655117],
                [56.14562962228871, 25.414842981684387],
                [56.138658560913456, 25.445573897847638],
                [56.13187607709901, 25.485631378285646],
                [56.13136773980477, 25.507370144421557],
                [56.143342041600334, 25.527786198131423],
                [56.15931119844055, 25.54679152780811],
                [56.15818570705716, 25.56700567409979],
                [56.16268426126052, 25.57402027739434],
                [56.16404742669573, 25.592934699110046],
                [56.17729123972185, 25.609763380018236],
                [56.193369939294854, 25.632135475387642],
                [56.19229060120068, 25.655165406390054],
                [56.18509482916426, 25.673564094436657],
                [56.17987447739648, 25.687018494376986],
                [56.17464850043322, 25.69495829297867],
                [56.144226909430074, 25.68774917731858],
                [56.125412602713965, 25.687828506370963],
                [56.1082675888498, 25.694885816537322],
                [56.08185772847409, 25.70281077415703],
                [56.0538937431765, 25.712648320239182],
                [56.0410609621627, 25.71740652507289],
                [56.02088349001136, 25.698591144127775],
                [55.96182940691904, 25.66992416640589],
                [55.89870369016563, 25.636726246378444],
                [55.83004465471038, 25.587735306681125],
                [55.786767781909816, 25.563208045288448],
                [55.75061651478288, 25.55551714430746],
                [55.67058174521918, 25.552680095454406],
                [55.55397904846808, 25.550703886085657],
                [55.511009290144244, 25.5499099503501],
                [55.49181207739133, 25.555988051654296],
                [55.47552090460988, 25.5680292907401],
                [55.45956961041625, 25.601248080965462],
                [55.430185810864316, 25.709724491085538],
                [55.40279865226668, 25.79960247828457],
                [55.38808600104727, 25.87394977957544],
                [55.36018026685298, 25.960482148988902],
                [55.3384890935275, 26.04283618505734],
                [55.331267288245584, 26.05571476143116],
                [55.2376865251552, 26.056854089618824],
                [55.22398767244661, 26.024830268226168],
                [55.15479378014331, 25.96657297637148],
                [55.09663481811532, 25.924865116595967],
                [55.055196390843435, 25.899281970913293],
                [55.06926696257483, 25.878637558402687],
                [55.06191240962738, 25.85417743559681],
                [55.038862381954345, 25.833598421602247],
                [55.01102038197516, 25.843708160582977],
                [54.99571298911317, 25.85716841928236],
                [54.990693129053085, 25.84993829861483],
                [54.98049941653008, 25.823601727972516],
                [54.931143390269256, 25.78192550771014],
                [54.926723136984776, 25.759870522722068],
                [54.93532071276857, 25.75130286361454],
                [54.93903679876445, 25.738798326665062],
                [54.93837546536764, 25.720721340665477],
                [54.942201677629555, 25.71275408352544],
                [54.94268790679254, 25.694237702363864],
                [54.950866219733086, 25.676022520273705],
                [54.95900551424623, 25.664696157569608],
                [54.9540560219439, 25.651889377313267],
                [54.941674122365015, 25.645628222058036],
                [54.93228375660698, 25.634863608201414],
                [54.9297181267269, 25.618138836474614],
                [54.924196679157745, 25.60733593027375],
                [54.91518634924759, 25.597570276125197],
                [54.904342840862626, 25.591367120829602],
                [54.89396127912016, 25.587855370148404],
                [54.90012515914037, 25.57569386844071],
                [54.911163761430316, 25.570569134107075],
                [54.922443652289246, 25.554383166761994],
                [54.900372246949445, 25.506148307317986],
                [54.88245314606203, 25.46313380996351],
                [54.86996059703378, 25.438390211212834],
                [54.86012241519052, 25.427346599036213],
                [54.8503626554039, 25.425675075594327],
                [54.833511470286794, 25.427202807495817],
                [54.82357788791572, 25.435214894701275],
                [54.82070350348232, 25.43092513342914],
                [54.831187769800806, 25.422559778249123],
                [54.83822569641805, 25.41191547420351],
                [54.82079890401013, 25.41186773051443],
                [54.8074578725535, 25.410696700339827],
                [54.78912544697991, 25.423196072480323],
                [54.76964244764872, 25.45572302575748],
                [54.75652572629093, 25.471903095805544],
                [54.755190373875394, 25.490848401871617],
                [54.75231297824314, 25.506144910455546],
                [54.74933588923369, 25.513731547417365],
                [54.739597400766456, 25.510403482851643],
                [54.739263082044516, 25.497762866283608],
                [54.73443455443865, 25.490989977760208],
                [54.73159906062216, 25.47980029083932],
                [54.735236842203165, 25.46715315776089],
                [54.73150968249206, 25.45967279777254],
                [54.722244096740695, 25.469796515144978],
                [54.71431450423012, 25.48414649405767],
                [54.71296454371816, 25.488748746278105],
                [54.70031944342591, 25.47203266295361],
                [54.686281839980865, 25.46323446387747],
                [54.68464740743508, 25.459048324166957],
                [54.70567674283353, 25.45693706376332],
                [54.719504003452016, 25.439551831503252],
                [54.762628102298066, 25.400535903316793],
                [54.773044902632165, 25.39355820513957],
                [54.78540187886642, 25.39790364324736],
                [54.79365848605198, 25.389019284047023],
                [54.82699860301963, 25.390982863676868],
                [54.83686471940749, 25.38435770879761],
                [54.8463685825277, 25.382752562718665],
                [54.84929217282502, 25.367710040029138],
                [54.849589971306074, 25.34447176045741],
                [54.84659462217502, 25.33411943835057],
                [54.83598939116004, 25.336431702522958],
                [54.82728179340427, 25.35339181951072],
                [54.80958878908288, 25.362494110729543],
                [54.79377515790031, 25.368295562710173],
                [54.784342412787424, 25.37209988431995],
                [54.79416899773321, 25.3491865225255],
                [54.80788259770341, 25.332906481096998],
                [54.81397901173929, 25.322109778984398],
                [54.81305510258076, 25.312960243468694],
                [54.79524113356291, 25.3160053344139],
                [54.782507936791006, 25.325521387030918],
                [54.76970362200939, 25.332837034241592],
                [54.7574925338173, 25.336478767540783],
                [54.75280259020431, 25.330506054417654],
                [54.76803696207088, 25.319535507724666],
                [54.76559594891248, 25.312418529648227],
                [54.75601366373451, 25.304642844995655],
                [54.74918845031746, 25.29869109465038],
                [54.75114710898484, 25.26788361949427],
                [54.753968693528975, 25.251018331859242],
                [54.75148767538042, 25.241285736588708],
                [54.7398592922074, 25.207077073188998],
                [54.727499108962206, 25.18249095629507],
                [54.712616523199245, 25.14406175052565],
                [54.69659348299376, 25.11234671281042],
                [54.67386239258238, 25.090677095248125],
                [54.65080183217688, 25.0670753885542],
                [54.641573595943555, 25.049655804635066],
                [54.6251629734534, 25.05860542041188],
                [54.594443199515865, 25.074484691780142],
                [54.577488673507816, 25.070706692980593],
                [54.567284043978475, 25.05711809672296],
                [54.55524989516442, 25.051910875267396],
                [54.52839326412234, 25.026765207993463],
                [54.510035211825, 25.008403609730053],
                [54.4920123691374, 24.998368469358553],
                [54.466025877234244, 24.989449791597394],
                [54.44112355576809, 24.982102908422206],
                [54.41940001540979, 24.967903143473166],
                [54.41265872411026, 24.945930777770315],
                [54.40594609834352, 24.93208471138469],
                [54.36745398713785, 24.89607297670473],
                [54.335163069410385, 24.882747293663712],
                [54.31169868475848, 24.883822882520363],
                [54.297370042957, 24.871532592362513],
                [54.26219047713795, 24.85970319916639],
                [54.23650403252702, 24.84456602473189],
                [54.2019899499671, 24.840117065959248],
                [54.18780999261426, 24.833475335775816],
                [54.171266357637705, 24.832099075041157],
                [54.15765190255135, 24.819209890804572],
                [54.12336005503812, 24.796640788001127],
                [54.09969290326333, 24.778991042382287],
                [54.08370883456652, 24.768383047960327],
                [54.012433889090374, 24.768034586478763],
                [53.947489363844426, 24.768770939995534],
                [53.92984281986932, 24.767302161757158],
                [53.90581942973566, 24.781044008823542],
                [53.88103044860762, 24.764783816670885],
                [53.85736654522623, 24.750338128410363],
                [53.85068258499231, 24.74461270237292],
                [53.82415008117778, 24.761178011874378],
                [53.79665050116205, 24.749739949600013],
                [53.77983816281903, 24.74519143795014],
                [53.759531142319446, 24.75841336073907],
                [53.750790618537366, 24.778892998385047],
                [53.72770902938271, 24.79496881990862],
                [53.701426308579045, 24.816179997228303],
                [53.68211839446079, 24.806556091037805],
                [53.65612597577237, 24.811935184663895],
                [53.6304882570478, 24.844893010289027],
                [53.61713982693402, 24.852687503626356],
                [53.59381113316141, 24.846591513984194],
                [53.52381066433409, 24.829246458118874],
                [53.478401621844796, 24.819590309610447],
                [53.44762129082321, 24.815197967286167],
                [53.409152488363475, 24.822329471224748],
                [53.3747516525348, 24.882697292415884],
                [53.340350671280646, 24.913661724372375],
                [53.32355132650801, 24.921936299758755],
                [53.295978601546295, 24.919644164919106],
                [53.30439690928907, 24.903670858717135],
                [53.30690220457814, 24.876936359287953],
                [53.31675538253597, 24.866181674165574],
                [53.3117809226699, 24.854548941496986],
                [53.296359117046734, 24.85178213547924],
                [53.270749493855476, 24.872149250106688],
                [53.25168107323378, 24.878279343301912],
                [53.22442081913525, 24.861885733085472],
                [53.21203229817726, 24.853818647550824],
                [53.17158911037487, 24.88761133957634],
                [53.149443395412845, 24.920305313541363],
                [53.118618134522876, 24.89258333065534],
                [53.09046021587449, 24.877303631203844],
                [53.02535399264721, 24.878061980502082],
                [52.9610036152373, 24.899179520712863],
                [52.93812040481424, 24.889324787361275],
                [52.92387757854175, 24.880738635731575],
                [52.9018180956609, 24.87477375660579],
                [52.87192804431112, 24.878971077249872],
                [52.83197870060525, 24.90019737173121],
                [52.811537932445844, 24.899982662548297],
                [52.79449942842891, 24.884830407540136],
                [52.77813396348526, 24.887321229963405],
                [52.76292771549592, 24.91528918111173],
                [52.74290882587201, 24.948541276473108],
                [52.7181864962389, 24.97802321726185],
                [52.70432878339838, 24.98150885640301],
                [52.68768090992296, 24.97363351121146],
                [52.68387442359182, 24.936398532359945],
                [52.68245657617982, 24.904165820864733],
                [52.66725407116985, 24.888563479982622],
                [52.64132219491324, 24.874851532670675],
                [52.623416133380346, 24.86229997404537],
                [52.59849207126723, 24.83455640492606],
                [52.57712302845346, 24.816361479192523],
                [52.5566746401517, 24.808623718622115],
                [52.54750899399602, 24.793511688806063],
                [52.54108613899018, 24.774538737586695],
                [52.52434273670042, 24.758588806813336],
                [52.499147292083364, 24.746689204666197],
                [52.47901765577211, 24.73832317736931],
                [52.45716320264626, 24.729812981098974],
                [52.440179545481186, 24.704978043657263],
                [52.42705273848148, 24.689058700028312],
                [52.4166814228667, 24.681826961204678],
                [52.36871038410669, 24.682200772347898],
                [52.3548894171972, 24.679697052258916],
                [52.3439866996963, 24.668097225800253],
                [52.30882999897133, 24.643874957815328],
                [52.30423379928419, 24.640384662719825],
                [52.24601024724089, 24.640462350185672],
                [52.237895150326864, 24.637740271591426],
                [52.22422976700466, 24.626138854796736],
                [52.202148315109014, 24.63001869789595],
                [52.17249542271617, 24.6318725171503],
                [52.14366571212594, 24.626075590915633],
                [52.12035109595607, 24.62645799476823],
                [52.08945069041482, 24.642204397578013],
                [52.07257626387562, 24.662929476615204],
                [51.982028299487496, 24.661148138834392],
                [51.98912453065881, 24.635423139399734],
                [51.98598348882828, 24.624465974026165],
                [51.967828528526695, 24.62644091599259],
                [51.93728451612043, 24.662999592417663],
                [51.895524037725096, 24.66875178339012],
                [51.86609350971216, 24.66941488888665],
                [51.85110410030393, 24.67499977682533],
                [51.84115345008908, 24.688952419968913],
                [51.82734934373079, 24.728770952934013],
                [51.81866906709115, 24.7514180982011],
                [51.82021355083123, 24.8252979147956],
                [51.81042108195814, 24.888236955490385],
                [51.80140346198908, 24.923145560507308],
                [51.80188382554849, 24.952951658906414],
                [51.80647815603632, 24.977161252309273],
                [51.810754517290775, 25.01262038997335],
                [51.81219664888957, 25.05207973099904],
                [51.805785196727214, 25.07927345831729],
                [51.79807948342017, 25.093498846860243],
                [51.78900225754268, 25.103742413885783],
                [51.774963647419725, 25.086306915774273],
                [51.765939071528265, 25.063157406943986],
                [51.75482766538454, 25.030485394895464],
                [51.7543387748795, 25.01379338101745],
                [51.7468841399141, 25.002520688229453],
                [51.72891662027598, 25.002535659833384],
                [51.72047955273399, 25.01248825697506],
                [51.71262400386351, 25.03258740806612],
                [51.707326335054745, 25.048776445344416],
                [51.70350190471703, 25.066843664069566],
                [51.69925129783363, 25.074326062950888],
                [51.69636070728214, 25.05741023225174],
                [51.69289685790031, 25.038485129035806],
                [51.68870440756214, 25.017989154774426],
                [51.67312841274335, 25.003680276043255],
                [51.66868041915694, 25.003260860060394],
                [51.65803875891069, 25.007050370145734],
                [51.650019608324044, 25.01944921399256],
                [51.64635245016342, 25.061665376581274],
                [51.64506174325109, 25.12269074484429],
                [51.64410741340433, 25.17099943067379],
                [51.631066451619716, 25.19846980841254],
                [51.62283878309253, 25.217705004721566],
                [51.615893743855025, 25.230974132305818],
                [51.60797356563759, 25.238543469838305],
                [51.599369659731025, 25.220574624070053],
                [51.594735479412805, 25.208300658726316],
                [51.60838177314102, 25.180330719530517],
                [51.614445139454375, 25.15112285528626],
                [51.61415652980412, 25.103088954624596],
                [51.61440258470725, 25.089701749869377],
                [51.59179136603848, 25.05737735100459],
                [51.59310051942188, 25.034025563742844],
                [51.598390044731104, 25.009693403675897],
                [51.59708446542126, 24.968321605981956],
                [51.597571708228, 24.92394128522905],
                [51.59623477634278, 24.875501038890036],
                [51.59532330046699, 24.847200253909378],
                [51.60168406775429, 24.821007895075994],
                [51.63208260839761, 24.765279174169663],
                [51.66136030020934, 24.720781079635515],
                [51.69588389295757, 24.663787420405498],
                [51.72218578799789, 24.62071901226976],
                [51.7611656843433, 24.56014696149171],
                [51.79352867553888, 24.502563572638195],
                [51.8319089605028, 24.439702468565088],
                [51.869237876261934, 24.380104796741662],
                [51.934401733929974, 24.27648050360456],
                [52.32671580037976, 23.65414200368525],
                [52.54337540423907, 23.292545879919516],
                [52.66457519305362, 23.111628184410804],
                [52.80503543154478, 23.08538301135114],
                [53.303626175934056, 23.00727777671888],
                [53.82120736430744, 22.921006295222682],
                [54.48378568118318, 22.809124436361202],
                [55.17794036672592, 22.691946069940073],
                [55.349235624498675, 22.66051959920793],
                [55.437120170735085, 22.64952069718612],
              ],
            ],
          },
        },
      ],
    };

    // Initialize the Mapbox map
    const map = new mapboxgl.Map({
      container: "map", // ID of the section where the map will render
      style: "mapbox://styles/mapbox/streets-v11", // Use a valid base map style
      center: [54.4, 24.48], // Center the map based on the polygon
      zoom: 13, // Adjust initial zoom level
    });

    map.on("load", () => {
      // Add the inverted mask as a GeoJSON source
      map.addSource("inverted-mask", {
        type: "geojson",
        data: invertedMask,
      });

      // Add a fill layer to mask areas outside the polygon
      map.addLayer({
        id: "outside-mask",
        type: "fill",
        source: "inverted-mask",
        paint: {
          "fill-color": "#ffffff", // Black color to hide outside areas
          "fill-opacity": 1, // Adjust transparency (1 = fully hidden)
        },
      });

      // Add the original polygon as a GeoJSON source
      map.addSource("polygon-source", {
        type: "geojson",
        data: polygonCoordinates,
      });

      // Add a fill layer to render the polygon area
      map.addLayer({
        id: "polygon-fill",
        type: "fill",
        source: "polygon-source",
        paint: {
          "fill-color": "#00FF00", // Green fill color for the polygon area
          "fill-opacity": 0.2, // Adjust transparency
        },
      });

      // Add a line layer to render the polygon border
      map.addLayer({
        id: "polygon-outline",
        type: "line",
        source: "polygon-source",
        paint: {
          "line-color": "#FF0000", // Red border color
          "line-width": 2, // Border thickness
        },
      });
    });

    return () => map.remove(); // Clean up on component unmount
  }, []);

  return (
    <section id="map" style={{ width: "100%", height: "100vh" }}></section>
  );
}

export default SecondMap;
